INFO:     Will watch for changes in these directories: ['/Users/jordannakamoto/start/ai-service']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [4299] using WatchFiles
INFO:     Started server process [4302]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:64480 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64504 - "POST /assistant-message HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64514 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "POST /resolve-citation HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [4302]
INFO:     Started server process [4849]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:64554 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64558 - "POST /resolve-citation HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64567 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64574 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "OPTIONS /ingest-pdf HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64648 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "OPTIONS /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64652 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64652 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64652 - "POST /resolve-citation HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [4849]
INFO:     Started server process [5251]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_pdf_summary.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5251]
INFO:     Started server process [5263]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_pdf_summary.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5263]
INFO:     Started server process [5316]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64774 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "POST /resolve-citation HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64784 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64888 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64888 - "POST /resolve-citation HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5316]
INFO:     Started server process [5808]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5808]
INFO:     Started server process [5818]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:64924 - "POST /assistant-message HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:64928 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64928 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:64931 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65017 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "OPTIONS /ingest-pdf HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
INFO:     127.0.0.1:65053 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "OPTIONS /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65053 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65056 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65081 - "POST /resolve-citation HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5818]
INFO:     Started server process [6075]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:65092 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65094 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65094 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65094 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65094 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65094 - "POST /resolve-citation HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 9530
🔍 DEBUG: Page 1: 9530 characters
🔍 DEBUG: Page 1 preview: Sample Contract Contract No.___________ PROFESSIONAL SERVICES AGREEMENT THIS AGREEMENT made and ente...
INFO:     127.0.0.1:65190 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "OPTIONS /ingest-pdf HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 9530
🔍 DEBUG: Page 1: 9530 characters
🔍 DEBUG: Page 1 preview: Sample Contract Contract No.___________ PROFESSIONAL SERVICES AGREEMENT THIS AGREEMENT made and ente...
INFO:     127.0.0.1:65304 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "OPTIONS /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65304 - "POST /resolve-citation HTTP/1.1" 200 OK
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31750
🔍 DEBUG: Page 1: 31750 characters
🔍 DEBUG: Page 1 preview: Sample Contract Contract No.___________ PROFESSIONAL SERVICES AGREEMENT THIS AGREEMENT made and ente...
INFO:     127.0.0.1:65454 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65460 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "POST /resolve-citation HTTP/1.1" 200 OK
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31201
🔍 DEBUG: Page 1: 31201 characters
🔍 DEBUG: Page 1 preview: Sample ContractContract No.___________PROFESSIONAL SERVICES AGREEMENTTHIS AGREEMENT made and entered...
INFO:     127.0.0.1:49259 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49259 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49265 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49267 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49269 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49271 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49273 - "POST /resolve-citation HTTP/1.1" 200 OK
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31201
🔍 DEBUG: Page 1: 31201 characters
🔍 DEBUG: Page 1 preview: Sample ContractContract No.___________PROFESSIONAL SERVICES AGREEMENTTHIS AGREEMENT made and entered...
INFO:     127.0.0.1:49277 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49277 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49280 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49282 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49288 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "OPTIONS /ingest-pdf HTTP/1.1" 200 OK
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31201
🔍 DEBUG: Page 1: 31201 characters
🔍 DEBUG: Page 1 preview: Sample ContractContract No.___________PROFESSIONAL SERVICES AGREEMENTTHIS AGREEMENT made and entered...
INFO:     127.0.0.1:49967 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "OPTIONS /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49967 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49969 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49973 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49975 - "POST /resolve-citation HTTP/1.1" 200 OK
INFO:     127.0.0.1:49977 - "POST /resolve-citation HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'citation_system.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [6075]
INFO:     Started server process [7646]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'semantic_inference.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7646]
INFO:     Started server process [7713]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7713]
INFO:     Started server process [7726]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7726]
INFO:     Started server process [7729]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7729]
INFO:     Started server process [7736]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7736]
INFO:     Started server process [7741]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:50176 - "OPTIONS /ingest-pdf HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31201
🔍 DEBUG: Page 1: 31201 characters
🔍 DEBUG: Page 1 preview: Sample ContractContract No.___________PROFESSIONAL SERVICES AGREEMENTTHIS AGREEMENT made and entered...
INFO:     127.0.0.1:50176 - "POST /ingest-pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:50176 - "OPTIONS /assistant-message HTTP/1.1" 200 OK
INFO:     127.0.0.1:50176 - "POST /assistant-message HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'enhanced_inference.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7741]
INFO:     Started server process [7971]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7971]
Process SpawnProcess-16:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/jordannakamoto/start/ai-service/ai-service-env/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/jordannakamoto/start/ai-service/main.py", line 4, in <module>
    from services import ingest_pdf, process_assistant_message, resolve_citation
  File "/Users/jordannakamoto/start/ai-service/services.py", line 21, in <module>
    semantic_engine = SemanticInferenceEngine(openai_client)
                      ^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'SemanticInferenceEngine' is not defined. Did you mean: 'EnhancedInferenceEngine'?
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Started server process [7989]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'services.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7989]
INFO:     Started server process [8006]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:50273 - "POST /assistant-message HTTP/1.1" 200 OK
/Users/jordannakamoto/start/ai-service/pocketflow.py:7: UserWarning: Overwriting successor for action 'default'
  if action in self.successors: warnings.warn(f"Overwriting successor for action '{action}'")
🔍 DEBUG: Received 1 pages
🔍 DEBUG: Total characters: 31201
🔍 DEBUG: Page 1: 31201 characters
🔍 DEBUG: Page 1 preview: Sample ContractContract No.___________PROFESSIONAL SERVICES AGREEMENTTHIS AGREEMENT made and entered...
INFO:     127.0.0.1:50277 - "POST /ingest-pdf HTTP/1.1" 200 OK
🔍 Enhanced Analysis: 10 citations validated
INFO:     127.0.0.1:50277 - "POST /assistant-message HTTP/1.1" 200 OK
